<hr />
<p>layout: page</p>
<h2 id="title-card-refresh-plugin">title: Card Refresh Plugin</h2>
<p>The card refresh plugin provides the functionality for loading ajax content into the card. </p>
<h5 id="usage">Usage</h5>
<p>This plugin can be activated as a jQuery plugin or using the data API. </p>
<h6 id="data-api">Data API</h6>
<p>{: .text-bold }</p>
<p>Activate the plugin by adding a button with <code>data-card-widget="card-refresh"</code> to the card and provide the required <code>data-source="/URL-TO-CONTENT"</code> option. By doing that, the plugin will automatically create a GET request to the provided URL and render the returned response the <code>.card-body</code> section of the card. If you need to process the returned response before rendering, you should use the jQuery API, which provides hooks to deal with the response. </p>
<h6 id="jquery">jQuery</h6>
<p>{: .text-bold }</p>
<p>The jQuery API provides more customizable options that allows the developer to pre-process the request before rendering and post-process it after rendering. </p>
<pre><code class="hljs js language-js">(<span class="hljs-string">&quot;#my-card&quot;</span>).<span class="hljs-title function_">refreshBox</span>(options)
</code></pre>
<h5 id="options">Options</h5>
<p>{: .mt-4}</p>
<p>|---<br />
| Name | Type | Default | Description<br />
|-|-|-|-<br />
| source | String&nbsp;|&nbsp;'' | The URL to the source.<br />
| sourceSelector | String&nbsp;|&nbsp;'' | A selector to get return only the content of the selector.<br />
| params | Object&nbsp;|&nbsp;{} | GET query paramaters (example: {search<em>term: 'layout'}, which renders to URL/?search</em>term=layout)<br />
| trigger | String&nbsp;|&nbsp;<code>[data-card-widget="card-refresh"]</code> | The CSS selector to the refresh button<br />
| content | String&nbsp;|&nbsp;<code>.card-body</code> | The CSS selector to the target where the content should be rendered. This selector should exist within the card.<br />
| loadInContent | Boolean&nbsp;|&nbsp;TRUE | Whether to automatically render the content.<br />
| loadOnInit | Boolean&nbsp;|&nbsp;TRUE | Init plugin on page load.<br />
| responseType | String&nbsp;|&nbsp;'' | Response type (example: 'json' or 'html')<br />
| overlayTemplate | String&nbsp;|&nbsp;TRUE | The HTML template for the ajax spinner<br />
| onLoadStart | Function&nbsp;|&nbsp;Anonymous Function | Called before the ajax request is made<br />
| onLoadDone | Function&nbsp;|&nbsp;Anonymous Function | Called after the ajax request is made. A <code>response</code> parameter is passed to the function that hold the server response. <br />
{: .table .table-bordered .bg-light}</p>
<h5 id="events">Events</h5>
<p>{: .mt-4}</p>
<p>|---<br />
| Event Type&nbsp;| Description<br />
|-|-<br />
|loaded.lte.cardrefresh |&nbsp;Triggered after a card is refreshed.<br />
|overlay.added.lte.cardrefresh |&nbsp;Triggered after the overlay added to the card.<br />
|overlay.removed.lte.cardrefresh |&nbsp;Triggered after the overlay removed from the card.<br />
{: .table .table-bordered .bg-light}</p>
<p>Example: <code>$('#my-card [data-card-widget="card-refresh"]').on('loaded.lte.cardrefresh', handleLoadedEvent)</code></p>
<h5 id="methods">Methods</h5>
<p>{: .mt-4}</p>
<p>|---<br />
| Method | Description<br />
|-|-<br />
|load | Reloads the content and runs the <code>onLoadStart</code> and <code>onLoadDone</code> hooks<br />
{: .table .table-bordered .bg-light}</p>
<p>Example: <code>$('#my-card-widget').Widget('toggle')</code></p>